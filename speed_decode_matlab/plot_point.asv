
clc
clear all
 i= imread('frame+32.jpg');
%  
%   hold on;
%  line([10,10], [100, 100], 'color', 'r');
 figure
 imshow(i);
hold on;
% x1=148;
% y1=142;
% plot(x1, y1, ' g.');
% % % 
% x1=307;
% y1=301;
% plot(x1, y1, 'r.');
% 
% x1=339;
% y1=270;
% plot(x1, y1, 'r.');
% % % % 
% x2=308;
% y2=260;
% plot(x2, y2, 'r.');
% % 
% % 
% x3=185;
% y3=97;
% plot(x3, y3, 'g.');
% x4=180;
% y4=122;
% plot(x4, y4, 'g.');
% x5=306;
% y5=270;
% plot(x5, y5, 'r.')


% x5=208;
% y5=102;
% plot(x5, y5, 'r.');
% x5=208;
% y5=102;
% plot(x5, y5, 'r.');
% x5=198;
% y5=106;
% plot(x5, y5, 'g.');
% 
% x5=221;
% y5=271;
% plot(x5, y5, 'r*');
% 
% x5=319;
% y5=156;
% plot(x5, y5, 'r*');
% x5=221;
% y5=230;
% plot(x5, y5, 'r*');
% 
% x5=220;
% y5=320;
% plot(x5, y5, 'r*');
% 
% x5=238;
% y5=157;
% plot(x5, y5, 'r*');
% 
% x5=400;
% y5=157;
% plot(x5, y5, 'r*');


% loc_points(i,1) = x;
% loc_points(i,2) = y;
% str=['  X:' num2str(x') ', Y:' num2str(y')];
% text(x,y,cellstr(str))
 
%  
% hold on;
% line([50,400], [50, 400])%
% 
% x = [238, 319, 400]
% y = [157, 158, 157]
% avg_x = sum(x)/3;
% avg_y = sum(y)/3;
% 
% x_2 = x(1)^2+x(2)^2+x(3)^2;
% x_y = x(1)*y(1)+x(2)*y(2)+x(3)*y(3);
% 
% l_xx = sum(x_2)-3*avg_x^2;
% 
% l_xy = x_y-3*avg_x*avg_y;
% b = l_xy/l_xx;
% a = (avg_y-b*avg_x)
% 
% 
% for i=1:100
%     y(i) = a*i+b
% end
% plot(i, y);

% for i=1:200
%     plot(i, a*i+b, 'g.')
% end
% hold on ;
% hei_1 = fix (a+b)
% hei_2 = fix (300*a+b)
% line([1, 300], [a+b, 300*a+b]);

% 
% x=[1,1.5,2,2.5,3];y=[0.9,1.7,2.2,2.6,3];
% p=polyfit(x,y,1);
% 
% x1=linspace(min(x),max(x));
% y1=polyval(p,x1);
% figure
% plot(x,y,'*',x1,y1);

s1 = 0;
s2 = 0;
s3 = 0;
s4 = 0;
% 
% x = [246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 239, 239, 239];
% y = [231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348];
% x = [300     301     302     303     304     305]
% y = [193     193     193     193     193     193]
% x = [265     266     267     268     269     270     271     272     273     274     275     276     277     278     279     280     281     282     283     284     285     286     287     288     289     290     291     292     293     294     295     296     297     298     299     300     301     302     303     304     305     306     307     308     309     310     311     312     313     314     315     316     317     318     319     320     321     322     323     324     325     326     327     328     329     330     331     332     333     334     335     336     337     338     339     340     341     342     343     344     345     346     347     348     349     350     351     352     353     354     355     356     357     358     359     360     361     362     363     364     365     366     367     368     369     370     371     372     373     374     375     376     377     378     379     380     381     382     383     384     385     386     387     388     389     390     391     392     393     394     395     396     397     398     399     400     401     402     403     404     405     406     407     408     409     410     411     412     413     414     415     416     417     418     419     420     421     422     423     424     425     426     427     428     429     430     431     432     433     434     435     436     437     438     439     440     441     442     443     444     445     446     447     448     449     450     451     452     453     454     455     456     457     458     459     460     461     462     463     464     465     466     467     468     469     470     471     472     473     474     475     476     477     478     479     480     481     482     483     484     485     486     487     488     489     490     491     492     493     494     495     496     497     498     499     500     501     502     503];
% y = [142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     142     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     143     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     144     145     145     145     145     145     145     145     145     145     145     145     145     145     145     145     145     145     145     145     146     146     146     146     146     146     146     146     146     146     146     146     146     146     146     146     146     146     147     147     147     147     147     148];
% x = [283, 283, 283, 283, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 282, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 281, 280, 281, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 280, 279, 280, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 279, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 278, 277, 278, 278, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277, 277];
% 
% y = [251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377];
% 
x = [273, 273, 273, 273, 273, 273, 273, 273, 273, 273, 273, 273, 273, 273, 272, 272, 272, 272, 272, 272, 272, 272, 272, 272, 272, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 270, 270, 270, 270, 270, 270, 270, 270, 270, 270, 270, 270, 270, 269, 269, 269, 269, 269, 269, 269, 269, 269, 269, 269, 269, 269, 268, 268, 268, 268, 268, 268, 268, 268, 268, 268, 268, 268, 268, 267, 267, 267, 267, 267, 267, 267, 267, 267, 267, 267, 267, 267, 266, 266, 266, 266, 266, 266, 266, 266, 266, 266, 266, 265, 265, 265];
y = [236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339];

% x = [221, 220,221]
% y = [230, 320, 271]
% plot(x, y, 'r*')
n = length(x)
n_y = length(y)
for j=1:7:n
    plot(x(j), y(j), 'r*')
end
avg_x = sum(x)/n
avg_y = sum(y)/n
for i=1:n
    s1 = (x(i)-avg_x)*(y(i)-avg_y);
    s2 = s2+s1
    s3 = (x(i)-avg_x)^2;
    s4 = s3+s4
end

a = s2/s4
b = avg_y - a*avg_x
line([100,600],[a*100+b, a*600+b] ,'color', 'r')% [b, a*400+b]
% line([0,600],[230, 230])% [b, a*400+b]
% line([0,600],[320, 320])% [b, a*400+b]
% line([238,238],[0, 450])% [b, a*400+b]
% line([400,400],[0, 450])% [b, a*400+b]
% 
x = [297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489]
y = [152, 151, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 152, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 154, 153, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 155, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 156, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 158, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 160, 160, 160, 160, 160, 160, 160, 160, 160, 160, 160, 160, 160, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 161, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 164, 164, 164, 164, 164, 164, 164, 164]
% plot(x, y, 'r*')
n = length(x)
n_y = length(y)
for j=1:7:n
    plot(x(j), y(j), 'r*')
end
avg_x = sum(x)/n
avg_y = sum(y)/n
for i=1:n
    s1 = (x(i)-avg_x)*(y(i)-avg_y);
    s2 = s2+s1
    s3 = (x(i)-avg_x)^2;
    s4 = s3+s4
end

a = s2/s4
b = avg_y - a*avg_x
% line([100,600],[a*100+b, a*600+b], 'color', 'r')% [b, a*400+b]



% i=linspace(0,1,400);
% Y = a*i+b;
% a*200+b
% figure
% plot(i,Y);
% hold on;

% a=-24.5;
% b = 5688.166504;
% line([100,600],[a*100+b, a*600+b])% [b, a*400+b]
% sum(x*y)
% k = (n*sum(x*y) - sum(x)*sum(y)) / (n*sum(x*x) - sum(x) * sum(x))   
% b = (sum(x*x) * sum(y) -sum(x) * sum(x*y)) / (n*sum(x*x) - np.sum(x) * np.sum(x))
% las = k*x + b   
% 
% k = (n*np.sum(x*y) - np.sum(x)*np.sum(y)) / (n*np.sum(np.power(x,2)) - np.sum(x) * np.sum(x))
% b = (np.sum(np.power(x,2)) * np.sum(y) -np.sum(x) * np.sum(x*y)) / (n*np.sum(np.power(x,2)) - np.sum(x) * np.sum(x))
% las = k*x + b

% x1 = [182     198     213     229     243     259     274     290     179     195     210     226     241     256     272     287     177     192     208     223     238     253     269     284     174     190     205     221     235     251     266     282     172     187     202     218     233     248     264     279     169     184     200     215     230     245     261     276];
% y1 = [103     106     108     111     114     116     119     122     117     120     122     125     128     130     133     136     131     134     137     139     142     144     147     150     145     148     150     153     156     158     161     164     159     162     164     167     170     172     175     178     173     176     179     181     184     186     189     192];
% for i=1:length(x1)
%     
% end
% plot(x1, y1, 'r.')
% x = [174     195     216     237     258     279     300     321     177     198     219     240     261     282     303     324     180     201     222     244     265     286     307     328     184     205     226     247     268     289     310     331     187     208     229     250     271     292     313     334     191     212     233     254     275     296     317     338];
% y = [206     202     197     193     189     185     181     177     230     226     222     218     214     209     205     201     254     250     246     242     238     233     229     225     278     274     270     266     262     258     254     250     302     298     294     290     286     282     278     274     326     322     318     314     310     306     302     298];
% x = [182     197     211     225     240     254     268     283     180     194     208     222     237     251     265     280     177     191     205     220     234     248     263     277     174     188     202     217     231     245     260     274     171     185     200     214     228     242     257     271     168     182     197     211     225     240     254     268];
% y = [103     106     108     111     113     116     118     121     118     121     123     125     128     130     133     135     133     135     138     140     142     145     147     150     147     150     152     155     157     159     162     164     162     164     167     169     172     174     176     179     176     179     181     184     186     189     191     193];

